# Basic auth
:example-auth := (format "Basic %s" (base64-encode-string (format "%s:%s" "geoffrey.squire@csiro.au" "foobar")))

# Get all problems
GET http://localhost:5000/problems/

# Get a problem to sign
GET http://localhost:5000/problems/1

# Test signature
POST http://localhost:5000/signatures/
Authorization: :example-auth
Content-Type: application/json

{
  "entry_id": "http://localhost:5000/problems/1",
  "entry_hash": "ee9faf4999588b491270de4a4fee02363e39594227dec5b0fcc3c8e31311a39e",
  "signature": "3de784a7f0256b23d1559cf115cf8a4e7c8d633f8273ab7f6dd2504c745a1f1bcdf5698d540e5ffb761a93f29348e9f9fa6cb797e25fe249d1e14c987a42b25b857c30ec045bf30105f0bba0d851cf0f06f923916bae66639d980d64ff5ccf4ecde2eb750f90633ba33cfc55fe6b840184d197f8eba8403edeb5a2dd46b3020fda35198acb2e7c3faceaeab923a306c80e0f69f171815d3e699a6860ed1653c4a6f15436f13c092966a2383f9d9a014185902c3a54134e07b25c76e75289c93de2df19d9756aecab71fc65b424c4a63a4605093321239897e991166183fd48a0d0b58a5b6455d976b55528ae86ff07201197a1bc32ec6f15a908fe11d68e5269"
}

# Signatures
GET http://localhost:5000/signatures/

# Signatures
GET http://localhost:5000/signatures/1

# Delete the signature
DELETE http://localhost:5000/signatures/1
Authorization: :example-auth

# Info for user
GET http://localhost:5000/users/1

# New public key for user, using json-merge-patch
PATCH http://localhost:5000/users/1
Authorization: :example-auth
Content-Type: application/merge-patch+json

{
  "public_key": "-----BEGIN RSA PUBLIC KEY-----\nMIIBCgKCAQEAtkDV7IsEmQKta0tGv24BtxcSXwExPKcet4euf3WrgnXasvpPSh8i\nLE1vGspxQPCNwiiHal6kMPfEK1s9kN5wkwq5Fuw8gMCvDvKEkrI+zDz5kk4JvPMT\nT5rec8QUeHtMGX5Gbfg/DrdXT7UUORu0C1rLHb9h+5qOqJHS2G0a5CCLtP1/tc4y\nuBvzAktbu6j9zzQ8mh+qmU+qojJxev3OL4uc4rnYwOuZsHHoGkcNJbTID5em744Y\nlRh4AFiCHOfOysv7OUNXxeytVBE4fgI4gIFpOOOYaFtvgSDMUqy5oM7H9uC7YdXV\n4M5rD4raixHtou89nYSwlh151TNhVr/ejQIDAQAB\n-----END RSA PUBLIC KEY-----\n"
}

# New public key for user, using json
PATCH http://localhost:5000/users/1
Authorization: :example-auth
Content-Type: application/json

{
  "public_key": "Not a valid Public Key! With JSON!"
}

# New public key for user, using unknown type.
PATCH http://localhost:5000/users/1
Authorization: :example-auth

{
  "public_key": "Not a valid Public Key! No content type!"
}

# New public key for user
PUT http://localhost:5000/users/1/public_key
Authorization: :example-auth
Content-Type: application/json

{
  "key": "Not a valid Public Key! With JSON and PUT!"
}

# New public key for user, now with extra plain text
PUT http://localhost:5000/users/1/public_key
Authorization: :example-auth
Content-Type: text/plain

"Not a valid Public Key! With plain text and PUT!"


# Can we still get prov?
GET http://localhost:5000/users/1/prov
