# Basic auth
:example-auth := (format "Basic %s" (base64-encode-string (format "%s:%s" "geoffrey.squire@csiro.au" "foobar")))

# Get all problems
GET http://localhost:5000/problems/

# Get a problem to sign
GET http://localhost:5000/problems/1

# Test signature
POST http://localhost:5000/signatures/
Authorization: :example-auth
Content-Type: application/json

{
  "entry_id": "http://localhost:5000/problems/1",
  "entry_hash": "e6fdeefcf067fd5031ccf7b1a48256b95e5196f865c8550d0c4c349a5f38cfa8",
  "signature": "3ec558e14a9c07125efb6293afd8485c9ac512324743619931d764d4b5e05e6cdf24edb0bb97699a4278f43758e08b6281fd7b6d6e0cc89db8ce86c8cd4bf5c7985594a4a5b4906d62a290f8ed7362009a4696cc30796b5019f488f0981147e9b81ca6bc8e80b91bd4e814cf8bfef2983de23e64fb192c0542a9a833123bfadb3820816d9edb77d5a41bff48a84bd84c21403c212f126e01d03eda965b661a83e7234f7902b5397affb3076c070080c0037a42ab599f436e8ff4a1db2ad8ad0deec2159d2102eab485d56bc7e8f28c5b8dbba069143900aa22ae1591e72f4ed3dc14e43166949c29a2cb6061d24906f7a4882196c3f6eeaaf47006505f4ad592"
}

# Signatures
GET http://localhost:5000/signatures/

# Signatures
GET http://localhost:5000/signatures/1

# Delete the signature
DELETE http://localhost:5000/signatures/1
Authorization: :example-auth

# Info for user
GET http://localhost:5000/users/1

# New public key for user, using json-merge-patch
PATCH http://localhost:5000/users/1
Authorization: :example-auth
Content-Type: application/merge-patch+json

{
  "public_key": "-----BEGIN RSA PUBLIC KEY-----\nMIIBCgKCAQEAtkDV7IsEmQKta0tGv24BtxcSXwExPKcet4euf3WrgnXasvpPSh8i\nLE1vGspxQPCNwiiHal6kMPfEK1s9kN5wkwq5Fuw8gMCvDvKEkrI+zDz5kk4JvPMT\nT5rec8QUeHtMGX5Gbfg/DrdXT7UUORu0C1rLHb9h+5qOqJHS2G0a5CCLtP1/tc4y\nuBvzAktbu6j9zzQ8mh+qmU+qojJxev3OL4uc4rnYwOuZsHHoGkcNJbTID5em744Y\nlRh4AFiCHOfOysv7OUNXxeytVBE4fgI4gIFpOOOYaFtvgSDMUqy5oM7H9uC7YdXV\n4M5rD4raixHtou89nYSwlh151TNhVr/ejQIDAQAB\n-----END RSA PUBLIC KEY-----\n"
}

# New public key for user, using json
PATCH http://localhost:5000/users/1
Authorization: :example-auth
Content-Type: application/json

{
  "public_key": "Not a valid Public Key! With JSON!"
}

# New public key for user, using unknown type.
PATCH http://localhost:5000/users/1
Authorization: :example-auth

{
  "public_key": "Not a valid Public Key! No content type!"
}

# New public key for user
PUT http://localhost:5000/users/1/public_key
Authorization: :example-auth
Content-Type: application/json

{
  "key": "Not a valid Public Key! With JSON and PUT!"
}

# New public key for user, now with extra plain text
PUT http://localhost:5000/users/1/public_key
Authorization: :example-auth
Content-Type: text/plain

"Not a valid Public Key! With plain text and PUT!"


# Can we still get prov?
GET http://localhost:5000/users/1/prov
